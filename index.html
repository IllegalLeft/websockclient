<!DOCTYPE html>
<html><head><meta charset="UTF-8">

<link rel="stylesheet" href="style.css">
<title>Websocket JavaScript Client</title></head>

<body onLoad="startup()" onUnload="shutdown()" onClick="refocus()">

<!-- login form --!>
<form id="login">
  <input id="username" onClick="username.value = ''" type="text">
  <input id="password" onClick="password.value = ''" type="password">
  <input id="connect" type="image" src="images/connect.png" title="Reconnect">
</form>

<!-- toolbar --!>
<input id="showsettings" type="image" src="images/settings.png" title="Settings" onclick="settings.show()">
<input id="showinfo" type="image" src="images/help.png" title="Help and Information" onclick="infoContainer.style.visibility='visible'">

<!-- terminal window --!>
<form id="terminal">
  <div id="output" class="ansi-37 ansi-40"></div>
  <div id="quicklinks" class="ansi-1-34 ansi-40">
    <a onClick='xch_cmd("who");'>WHO</a>
    <a onClick='xch_cmd("look");'>LOOK</a>
    <a onClick='xch_cmd("inventory");'>INVENTORY</a>
    <a onClick='xch_cmd("@mail");'>MAIL</a>
    <a onClick='xch_cmd("+bb");'>BBOARD</a>
    <a onClick='xch_cmd("home");'>HOME</a>
    <a onClick="clearscreen('output'); clearscreen('prompt');">CLEAR OUTPUT</a></div>
  <div id="prompt" class="ansi-37 ansi-40"></div>
  <textarea id="entry" autocomplete="off" autofocus></textarea>
</form>

<!-- settings window --!>
<div id="settings-container">
  <form id="settings" class="popupWindow">
    <h1 align="middle">Settings</h1>

    <!-- general options --!>
    <div id="option-container" class="popupChild">
      <div class="optionLabel">Local Echo</div><input class="option" id="localEcho" type="checkbox"><br>
      <div class="optionLabel">Auto Connect</div><input class="option" id="autoConnect" type="checkbox"><br>
      <div class="optionLabel">Auto ReConnect</div><input class="option" id="autoReConnect" type="checkbox"><br>
      <div class="optionLabel">Input Box Size</div><input class="option" id="numInputLines" type="range" min="1" max="5"><br>
      <div class="optionLabel">Server Address</div><input class="option" id="serverAddress" type="text"><br>
      <div class="optionLabel">Server Port</div><input class="option" id="serverPort" type="text"><br>
      <div class="optionLabel">Force SSL</div><input class="option" id="forceSSL" type="checkbox"><br>
      <div class="optionLabel" id="keepAliveLabel">KeepAlive(600s)</div><input class="option" id="keepAlive" type="checkbox">
      <input class="option" id="keepAliveTime" type="range" min="60" max="600" onchange="settings.updateFonts()"><br>
    </div>

    <!-- font options --!>
    <div id="font-container" class="popupChild">
      <div class="optionLabel">Font</div>
      <select class="option" id="fontSelect" onChange="settings.updateFonts()">
        <option>Andale Mono</option><option>Consolas</option><option selected>Courier New</option><option>Lucida Console</option><option>Monaco</option>
      </select><br>
      <div class="optionLabel">Font Size</div><input class="option" id="fontSize" type="number" min="8" max="18" onChange="settings.updateFonts()"><br>
      <div class="optionLabel">Bold</div><input class="option" id="fontBold" type="checkbox" onChange="settings.updateFonts()"><br>
      <div>The quick brown fox jumps over the lazy dog.</div>
    </div>

    <!-- save/cancel buttons --!>
    <div id="settings-save" class="popupButton" onclick="settingsForm.onsubmit()">
      <input class="buttonImage" type="image" src="images/save.png" title="Save">
      <div class="buttonLabel">Save</div>
    </div>
    <div id="settings-cancel" class="popupButton" onclick="settings.show()">
      <input class="buttonImage" type="image" src="images/cancel.png" title="Cancel" onclick="settings.show()">
      <div class="buttonLabel">Cancel</div>
    </div>
  </form>
</div>

<!-- help and information window --!>
<div id="info-container">
  <div id="info" class="popupWindow">
    <h1 align="middle">Help</h1>

    <div id="help-container">
      <div class="popupChild">
        <div>CTRL+P to cycle history up.</div>
        <div>CTRL+N to cycle history down.</div>
        <div>ESC to toggle settings dialog.</div>
      </div>
    </div>

    <div id="about-container">
      <div class="popupChild">
        <center><b>WebSocket MUSH Client by grapenut@grapenut.org.<br><br>
          Special thanks to CU5 for the PennMUSH Websocket patch.</b></center>
      </div>
    </div>

    <div id="info-close" class="popupButton" onclick="toggle_overlay()">
      <input id="info-button-close" type="image" src="images/cancel.png" title="Close" onclick="toggle_overlay()">
      <div class="buttonLabel">Close</div></div>
  </div>
</div>

<!-- user input prompt window (unfinished) --!>
<div id="userinput-container">
  <form id="userinput" class="popupWindow">
    <h1 align="middle">User input</h1>

    <div id="command-container"></div>

    <div id="userinput-send" class="popupButton" onclick="userinputForm.onsubmit()">
      <input class="buttonImage" type="image" src="images/save.png" title="Send">
      <div class="buttonLabel">Send</div>
    </div>

    <div id="userinput-cancel" class="popupButton" onclick="toggle_overlay()">
      <input id="userinput-button-cancel" type="image" src="images/cancel.png" title="Cancel" onclick="toggle_overlay()">
      <div class="buttonLabel">Cancel</div></div>
    </div>
  </form>
</div>

<!-- client scripts --!>
<script src="wsclient.js"></script>
<script src="local.js"></script>

</body>
</html>
